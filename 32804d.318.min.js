(window.webpackJsonp=window.webpackJsonp||[]).push([[318],{1141:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(1169);a.default=function(e){const[a,t]=Object(n.useState)(!1),[c,s]=Object(n.useState)(!1);localStorage.getItem("arco-lang");return l.a.createElement("span",{style:e.style,className:"markdown-body"},l.a.createElement(r.a,null,l.a.createElement("title",null,"项目模板 | ArcoDesign"),l.a.createElement("meta",{name:"description",content:"了解 Arco 官方提供的各种物料项目模板。"}),l.a.createElement("meta",{property:"og:title",content:"项目模板 | ArcoDesign"}),l.a.createElement("meta",{property:"og:description",content:"了解 Arco 官方提供的各种物料项目模板。"})),l.a.createElement("div",{className:"ac-nav-intro"},l.a.createElement("p",null,"物料平台"),l.a.createElement("h1",{id:"项目模板"},"项目模板"),l.a.createElement("p",null,"了解 Arco 官方提供的各种物料项目模板。")),l.a.createElement("h2",{id:"官方模板"},"官方模板"),l.a.createElement("p",null,"目前，Arco 提供了以下模板："),l.a.createElement("ul",null,l.a.createElement("li",null,"组件模板 —— 用于创建组件物料；"),l.a.createElement("li",null,"区块模板 —— 用于创建区块物料；"),l.a.createElement("li",null,"页面模板 —— 用于创建页面物料；"),l.a.createElement("li",null,"组件库模板 —— 用于创建结构类似于 ",l.a.createElement("a",{href:"https://github.com/arco-design/arco-design"},"Arco 组件库")," 的业务组件库项目 ",l.a.createElement("strong",null,"（推荐）")," ；"),l.a.createElement("li",null,"Monorepo 模板 —— 用于创建基于 Lerna 管理的 Monorepo 项目 ",l.a.createElement("strong",null,"（推荐）")," ；")),l.a.createElement("p",null,"使用上述模板只需在 ",l.a.createElement("code",null,"arco init")," 时选择对应的分类即可。"),l.a.createElement("h3",{id:"技术栈"},"技术栈"),l.a.createElement("p",null,"Arco 官方模板创建的项目中，使用到了以下技术栈："),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.typescriptlang.org/"},"TypeScript"),"：使用 TypeScript 进行物料开发"),l.a.createElement("li",null,l.a.createElement("a",{href:"http://lesscss.org/"},"Less"),"：样式开发"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://jestjs.io/"},"Jest"),"：单元测试和快照测试"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://storybook.js.org/"},"Storybook"),"：快速进行组件开发预览"),l.a.createElement("li",null,"ESLint & StyleLint & Prettier：代码风格检查和格式化相关")),l.a.createElement("h3",{id:"组件模板"},"组件模板"),l.a.createElement("p",null,"我们用组件模板创建一个物料项目并且进行一次构建，目录结构和详细说明如下："),l.a.createElement("pre",null,l.a.createElement("code",null,"├── ",l.a.createElement("span",{className:"token punctuation"},"."),"config ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," arco",l.a.createElement("span",{className:"token operator"},"-"),"scripts 配置项，包括构建、测试、文档生成，详情可见下一章节 ",l.a.createElement("span",{className:"token punctuation"},"["),"自定义配置",l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("br",null),"│   ├── babel",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   ├── docgen",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   ├── jest",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   ├── style",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   └── webpack",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── ",l.a.createElement("span",{className:"token punctuation"},"."),"storybook ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," Storybook 配置项，详情可参考 https",l.a.createElement("span",{className:"token punctuation"},":"),l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/"),"storybook",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("span",{className:"token punctuation"},"."),"org",l.a.createElement("span",{className:"token operator"},"/"),"docs",l.a.createElement("span",{className:"token operator"},"/"),"react",l.a.createElement("span",{className:"token operator"},"/"),"configure",l.a.createElement("span",{className:"token operator"},"/"),"overview",l.a.createElement("br",null),"│   ├── main",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   └── preview",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── arco",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," arco",l.a.createElement("span",{className:"token operator"},"-"),"cli 配置项",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── dist ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物（UMD 版本）",l.a.createElement("br",null),"├── docs ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物（Prop 和 Demo 文档）",l.a.createElement("br",null),"├── es ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物 （ES 版本）",l.a.createElement("br",null),"├── lib ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物 （CJS 版本）",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├—— src",l.a.createElement("br",null),"│   ├── TEMPLATE",l.a.createElement("span",{className:"token punctuation"},"."),"md ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 用于文档生成的模板",l.a.createElement("br",null),"│   ├── __test__ ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 单元测试目录",l.a.createElement("br",null),"│   │   ├── __snapshots__ ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 基于 Demo 生成的组件快照",l.a.createElement("br",null),"│   │   ├── demo",l.a.createElement("span",{className:"token punctuation"},"."),"test",l.a.createElement("span",{className:"token punctuation"},"."),"tsx ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 快照测试",l.a.createElement("br",null),"│   │   └── index",l.a.createElement("span",{className:"token punctuation"},"."),"test",l.a.createElement("span",{className:"token punctuation"},"."),"tsx ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 组件逻辑测试",l.a.createElement("br",null),"│   ├── demo ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," Demo 目录",l.a.createElement("br",null),"│   │   └── basic",l.a.createElement("span",{className:"token punctuation"},"."),"jsx",l.a.createElement("br",null),"│   ├── index",l.a.createElement("span",{className:"token punctuation"},"."),"tsx",l.a.createElement("br",null),"│   └── style",l.a.createElement("br",null),"│       ├── index",l.a.createElement("span",{className:"token punctuation"},"."),"less",l.a.createElement("br",null),"│       └── index",l.a.createElement("span",{className:"token punctuation"},"."),"ts",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── stories ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," Storybook 预览入口",l.a.createElement("br",null),"│   └── stories",l.a.createElement("span",{className:"token punctuation"},"."),"jsx ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 在这个文件里将 Demo 作为 Story 暴露",l.a.createElement("br",null),"│",l.a.createElement("br",null),"└── tests ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," Jest 单元测试入口和工具函数",l.a.createElement("br",null),"    ├── demoTest",l.a.createElement("span",{className:"token punctuation"},"."),"tsx",l.a.createElement("br",null),"    ├── mockDate",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"    ├── mountTest",l.a.createElement("span",{className:"token punctuation"},"."),"tsx",l.a.createElement("br",null),"    └── setup",l.a.createElement("span",{className:"token punctuation"},"."),"js")),l.a.createElement("p",null,"组件模板非常适合快速熟悉 Arco 物料的开发发布流程，但其一个项目只能对应一个物料，当你的团队需要共建物料时，这将使维护、发版变得异常复杂。因此我们推荐你使用 Monorepo 项目来统一管理你的所有物料。"),l.a.createElement("h3",{id:"monorepo-模板-推荐"},"Monorepo 模板 [推荐]"),l.a.createElement("p",null,l.a.createElement("strong",null,"Monorepo 模板依赖 Lerna 和 Yarn，请确保你已经全局安装了这两个 NPM 包。")),l.a.createElement("p",null,"使用 Monorepo 模板管理团队的所有物料是 Arco 推荐的最佳实践，下边我们将详细介绍这个模板。通过 ",l.a.createElement("code",null,"arco init")," 创建的 Monorepo 项目是一个不包含任何 Package 的骨架项目，目录结构和详细说明如下："),l.a.createElement("pre",null,l.a.createElement("code",null,"├── ",l.a.createElement("span",{className:"token punctuation"},"."),"storybook ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," Storybook 配置项，详情可参考 https",l.a.createElement("span",{className:"token punctuation"},":"),l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/"),"storybook",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("span",{className:"token punctuation"},"."),"org",l.a.createElement("span",{className:"token operator"},"/"),"docs",l.a.createElement("span",{className:"token operator"},"/"),"react",l.a.createElement("span",{className:"token operator"},"/"),"configure",l.a.createElement("span",{className:"token operator"},"/"),"overview",l.a.createElement("br",null),"│   ├── main",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   └── preview",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── tests ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," Jest 单元测试入口和工具函数",l.a.createElement("br",null),"│   ├── demoTest",l.a.createElement("span",{className:"token punctuation"},"."),"tsx",l.a.createElement("br",null),"│   ├── mockDate",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   ├── mountTest",l.a.createElement("span",{className:"token punctuation"},"."),"tsx",l.a.createElement("br",null),"│   └── setup",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── packages ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," lerna workspace",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── arco",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," arco",l.a.createElement("span",{className:"token operator"},"-"),"cli 配置项",l.a.createElement("br",null),"├── arco",l.a.createElement("span",{className:"token punctuation"},"."),"scripts",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 所有 package 公用的 arco",l.a.createElement("span",{className:"token operator"},"-"),"scripts 配置项",l.a.createElement("br",null),"├── lerna",l.a.createElement("span",{className:"token punctuation"},"."),"json",l.a.createElement("br",null),"├── package",l.a.createElement("span",{className:"token punctuation"},"."),"json",l.a.createElement("br",null),"└── tsconfig",l.a.createElement("span",{className:"token punctuation"},"."),"json ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 所有 package 公用的 ts 配置")),l.a.createElement("p",null,"初始化项目骨架之后，你可以通过 ",l.a.createElement("code",null,"yarn run add:package -- yourPackageName")," 来添加第一个物料，创建出来的物料与组件模板大致相同，但其所有的依赖项都已经被提至最外层。一个创建好的 Package 的目录结构和详细说明如下："),l.a.createElement("pre",null,l.a.createElement("code",null,"├── ",l.a.createElement("span",{className:"token punctuation"},"."),"config ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 扩展 arco",l.a.createElement("span",{className:"token operator"},"-"),"scripts 配置项，包括构建、测试、文档生成，详情可见下一章节 ",l.a.createElement("span",{className:"token punctuation"},"["),"自定义配置",l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("br",null),"│   ├── babel",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   ├── docgen",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   ├── jest",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   ├── style",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│   └── webpack",l.a.createElement("span",{className:"token punctuation"},"."),"config",l.a.createElement("span",{className:"token punctuation"},"."),"js",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── dist ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物（UMD 版本）",l.a.createElement("br",null),"├── docs ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物（Prop 和 Demo 文档）",l.a.createElement("br",null),"├── es ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物 （ES 版本）",l.a.createElement("br",null),"├── lib ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 构建产物 （CJS 版本）",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── src ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 同组件模板",l.a.createElement("br",null),"│   ├── TEMPLATE",l.a.createElement("span",{className:"token punctuation"},"."),"md",l.a.createElement("br",null),"│   ├── __test__",l.a.createElement("br",null),"│   ├── demo",l.a.createElement("br",null),"│   ├── index",l.a.createElement("span",{className:"token punctuation"},"."),"tsx",l.a.createElement("br",null),"│   └── style",l.a.createElement("br",null),"|",l.a.createElement("br",null),"├── stories ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," Storybook 预览入口",l.a.createElement("br",null),"│   └── stories",l.a.createElement("span",{className:"token punctuation"},"."),"jsx ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 在这个文件里将 Demo 作为 Story 暴露",l.a.createElement("br",null),"│",l.a.createElement("br",null),"├── README",l.a.createElement("span",{className:"token punctuation"},"."),"md",l.a.createElement("br",null),"├── package",l.a.createElement("span",{className:"token punctuation"},"."),"json",l.a.createElement("br",null),"└── tsconfig",l.a.createElement("span",{className:"token punctuation"},"."),"json ",l.a.createElement("span",{className:"token operator"},"/"),l.a.createElement("span",{className:"token operator"},"/")," 扩展 TS 配置，继承项目根目录的 tsconfig",l.a.createElement("span",{className:"token punctuation"},"."),"json")),l.a.createElement("p",null,"以上，我们了解了 Monorepo 模板的项目结构。相对于普通的单组件模板，它的差异主要表现在："),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",null,"公共依赖项提升至根目录"),l.a.createElement("ul",null,l.a.createElement("li",null,"项目根目录的 ",l.a.createElement("code",null,"package.json")," 文件中你可以发现这里包含了大量的公共依赖项；"),l.a.createElement("li",null,"新创建好的 Package 里不包含任何依赖项，你可以通过 ",l.a.createElement("code",null,"lerna add <pkg> --scope <packageName>")," 来为某个 Package 添加特有的依赖项；"))),l.a.createElement("li",null,l.a.createElement("p",null,"Storybook 位于项目根目录，可同时预览所有的 Package 内容"),l.a.createElement("ul",null,l.a.createElement("li",null,"需要注意的是 Storybook 内置的 Webpack Dev Server 仅负责监听所有 Story 的改变（即 /src/demo 下的文件）；"),l.a.createElement("li",null,l.a.createElement("code",null,"yarn run dev")," 实际上包含了两个步骤：",l.a.createElement("code",null,"yarn run storyboook")," 和 ",l.a.createElement("code",null,"lerna run dev"),"，你也可以通过 Lerna 命令的 ",l.a.createElement("code",null,"--scope")," 参数指定仅监听某个 Package 的源代码变化；"))),l.a.createElement("li",null,l.a.createElement("p",null,"物料发包与信息同步"),l.a.createElement("ul",null,l.a.createElement("li",null,"使用 ",l.a.createElement("code",null,"lerna publish")," 命令来发布 NPM 包；"),l.a.createElement("li",null,"使用 ",l.a.createElement("code",null,"arco generate")," 和 ",l.a.createElement("code",null,"arco sync")," 命令来生成和同步所有的物料元信息。如果仅需对某一个物料进行操作，上述两个命令都支持 ",l.a.createElement("code",null,"--from-current-package")," 参数；")))),l.a.createElement("h2",{id:"自定义模板"},"自定义模板"),l.a.createElement("p",null,"arco-cli 允许通过指定模板（本地/线上）来创建项目，通过 ",l.a.createElement("code",null,"--template")," 来指向本地路径或者一个 npm 包，这在你开发自定义模板时将非常有用。"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-bash"},"arco init ",l.a.createElement("span",{className:"token operator"},"<"),"projectName",l.a.createElement("span",{className:"token operator"},">")," --template ",l.a.createElement("span",{className:"token punctuation"},"["),"templatePackageName",l.a.createElement("span",{className:"token operator"},"|"),"file:templatePath",l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"# e.g."),l.a.createElement("br",null),"arco init my-site --template @arco-materials/template-core",l.a.createElement("br",null),l.a.createElement("br",null),"arco init my-site --template file:",l.a.createElement("span",{className:"token punctuation"},".."),"/path/to/your/template/acro-template-site")),l.a.createElement("p",null,"关于模板开发的进一步指引，请移步",l.a.createElement("a",{href:"/docs/material/develop-template"},"模板开发"),"。"))}}}]);