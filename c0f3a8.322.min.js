(window.webpackJsonp=window.webpackJsonp||[]).push([[322],{1139:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(1169);a.default=function(e){const[a,t]=Object(n.useState)(!1),[r,m]=Object(n.useState)(!1);localStorage.getItem("arco-lang");return l.a.createElement("span",{style:e.style,className:"markdown-body"},l.a.createElement(c.a,null,l.a.createElement("title",null,"常见问题 | ArcoDesign"),l.a.createElement("meta",{name:"description",content:"物料开发中的常见问题及其解答。"}),l.a.createElement("meta",{property:"og:title",content:"常见问题 | ArcoDesign"}),l.a.createElement("meta",{property:"og:description",content:"物料开发中的常见问题及其解答。"})),l.a.createElement("div",{className:"ac-nav-intro"},l.a.createElement("p",null,"物料平台"),l.a.createElement("h1",{id:"常见问题"},"常见问题"),l.a.createElement("p",null,"物料开发中的常见问题及其解答。")),l.a.createElement("h2",{id:"cli-版本升级"},"CLI 版本升级"),l.a.createElement("p",null,"从 ",l.a.createElement("code",null,"1.26.0")," 的版本起，",l.a.createElement("code",null,"@arco-design/arco-cli")," 更名为 ",l.a.createElement("code",null,"arco-cli"),"。对包名变动引起的不便我们深表歉意，请使用以下命令卸载旧有包并安装最新包："),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-bash"},l.a.createElement("span",{className:"token comment"},"# 卸载旧版本 CLI"),l.a.createElement("br",null),l.a.createElement("span",{className:"token function"},"npm")," uninstall @arco-design/arco-cli -g",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"# 安装最新版 CLI"),l.a.createElement("br",null),l.a.createElement("span",{className:"token function"},"npm")," ",l.a.createElement("span",{className:"token function"},"install")," arco-cli -g")),l.a.createElement("p",null,"之后，你可采用以下命令更新 CLI 版本："),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-bash"},l.a.createElement("span",{className:"token function"},"npm")," ",l.a.createElement("span",{className:"token function"},"install")," arco-cli@latest -g")),l.a.createElement("p",null,"此外，物料项目依赖包名也发生了变动，在升级项目 Dev 依赖时，你可能需要更换包名："),l.a.createElement("ul",null,l.a.createElement("li",null,"自 ",l.a.createElement("code",null,"1.25.15")," 起，",l.a.createElement("code",null,"@arco-design/arco-scripts")," 变更为 ",l.a.createElement("code",null,"arco-scripts"),"。"),l.a.createElement("li",null,"自 ",l.a.createElement("code",null,"1.9.3")," 起，",l.a.createElement("code",null,"@arco-design/arco-doc-site")," 变更为 ",l.a.createElement("code",null,"arco-material-doc-site"),"。")),l.a.createElement("h2",{id:"如何创建物料团队？"},"如何创建物料团队？"),l.a.createElement("p",null,"物料平台不允许用户自行创建团队，请至 ",l.a.createElement("a",{href:"https://arco.design/material/createGroup/"},"此页面")," 提出申请。创建完成后，团队 Owner 可以自行管理团队成员和信息。"),l.a.createElement("h2",{id:"在哪里查看我上传的物料？"},"在哪里查看我上传的物料？"),l.a.createElement("p",null,"点击平台右上角的用户头像，可以进入用户中心。用户可以在这里查看自己发布的物料、加入的团队等信息。"),l.a.createElement("p",null,l.a.createElement("img",{src:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/be6d4f61e5423b9be492206d88bdb139.png~tplv-uwbnlip3yd-webp.webp",alt:""})),l.a.createElement("h2",{id:"选择哪个项目模板？"},"选择哪个项目模板？"),l.a.createElement("p",null,"Arco 官方提供了多种项目模板供你选择："),l.a.createElement("p",null,l.a.createElement("img",{src:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/cceb75d805f175694a3e907c490e5e84.png~tplv-uwbnlip3yd-webp.webp",alt:""})),l.a.createElement("p",null,"根据你的不同需求，有以下推荐模板："),l.a.createElement("ul",null,l.a.createElement("li",null,"快速体验 Arco 物料的开发流程和平台能力：业务组件模板；"),l.a.createElement("li",null,"创建与全部开发者共享的",l.a.createElement("strong",null,"弱业务相关"),"的物料：Lerna Monorepo 模板；"),l.a.createElement("li",null,"创建团队内部共享的",l.a.createElement("strong",null,"强业务相关"),"的物料库：组件库模板。")),l.a.createElement("h2",{id:"是否可以用-ts-来书写物料-demo？"},"是否可以用 TS 来书写物料 Demo？"),l.a.createElement("p",null,"可以使用，但需要保证 arco-scripts >= 1.20.5。"),l.a.createElement("h2",{id:"物料开发完成后，如何预览其在物料平台的展示效果？"},"物料开发完成后，如何预览其在物料平台的展示效果？"),l.a.createElement("p",null,"通过 arco-cli 提供的 ",l.a.createElement("code",null,"arco preview")," 命令，或通过项目中提供的 ",l.a.createElement("code",null,"npm run preview")," 脚本，可以直接预览本地的物料。"),l.a.createElement("h2",{id:"如何支持业务方对于-arco-组件的样式按需加载？"},"如何支持业务方对于 Arco 组件的样式按需加载？"),l.a.createElement("p",null,"首先，我们",l.a.createElement("strong",null,"不建议"),"在物料源码中直接 import less/css，在无法确定用户的编译打包环境时，这种写法非常有可能导致编译失败。"),l.a.createElement("p",null,"为了支持用户可以按需加载物料所依赖的 Arco 组件样式，需要以下步骤："),l.a.createElement("ul",null,l.a.createElement("li",null,"物料提供者：在组件的 ",l.a.createElement("code",null,"/style/index.ts")," 中声明所依赖的 Arco 组件样式")),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-typescript"},l.a.createElement("span",{className:"token comment"},"// src/style/index.ts"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"import")," ",l.a.createElement("span",{className:"token string"},"'./index.less'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"// 如果物料使用到了 Arco 组件，声明它的依赖"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"import")," ",l.a.createElement("span",{className:"token string"},"'@arco-design/web-react/es/Button/style'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"// 如果物料使用到了其他物料，也声明它的样式依赖"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"import")," ",l.a.createElement("span",{className:"token string"},"'@namespace/some-other-material/es/style'"),l.a.createElement("span",{className:"token punctuation"},";"))),l.a.createElement("ul",null,l.a.createElement("li",null,"物料使用者：配置 ",l.a.createElement("a",{href:"https://www.npmjs.com/package/babel-plugin-import"},l.a.createElement("code",null,"babel-plugin-import"))," 来按需加载物料的样式")),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// .babelrc 在 babel 配置中加入"),l.a.createElement("br",null),"plugins",l.a.createElement("span",{className:"token operator"},":")," ",l.a.createElement("span",{className:"token punctuation"},"["),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token punctuation"},"["),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token string"},"'import'"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"      libraryName",l.a.createElement("span",{className:"token operator"},":")," ",l.a.createElement("span",{className:"token string"},"'@some-namespace/material-package-name'"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"      libraryDirectory",l.a.createElement("span",{className:"token operator"},":")," ",l.a.createElement("span",{className:"token string"},"'es'"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"      camel2DashComponentName",l.a.createElement("span",{className:"token operator"},":")," ",l.a.createElement("span",{className:"token boolean"},"false"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"      ",l.a.createElement("span",{className:"token comment"},"// 按需加载样式"),l.a.createElement("br",null),"      style",l.a.createElement("span",{className:"token operator"},":")," ",l.a.createElement("span",{className:"token boolean"},"true"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token string"},"'some-unique-name'"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"]"))),l.a.createElement("h2",{id:"物料单元测试报错"},"物料单元测试报错"),l.a.createElement("p",null,"物料项目的单元测试采用 ",l.a.createElement("a",{href:"https://jestjs.io/"},"Jest"),"，其默认不支持 ES Module 的语法 (import / export)。参考 ",l.a.createElement("a",{href:"https://jestjs.io/docs/ecmascript-modules"},"此文档")),l.a.createElement("p",null,"一种可行的解决方式是显式声明引用 CommonJS 模块。"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// change"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"import")," ",l.a.createElement("span",{className:"token imports"},l.a.createElement("span",{className:"token punctuation"},"{")," ",l.a.createElement("span",{className:"token maybe-class-name"},"Button")," ",l.a.createElement("span",{className:"token punctuation"},"}"))," ",l.a.createElement("span",{className:"token keyword module"},"from")," ",l.a.createElement("span",{className:"token string"},"'@arco-design/web-react'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"// to"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"import")," ",l.a.createElement("span",{className:"token imports"},l.a.createElement("span",{className:"token punctuation"},"{")," ",l.a.createElement("span",{className:"token maybe-class-name"},"Button")," ",l.a.createElement("span",{className:"token punctuation"},"}"))," ",l.a.createElement("span",{className:"token keyword module"},"from")," ",l.a.createElement("span",{className:"token string"},"'@arco-design/web-react/lib'"),l.a.createElement("span",{className:"token punctuation"},";"))))}}}]);